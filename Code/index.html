<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>期末设计注册表单</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="font/fontawesome/css/fontawesome-all.min.css">
    <!-- Bootstrap style sheet-->
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/mdb.css">
    <!-- Custom Style Sheet-->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <form class="">
            <fieldset>
                <legend>您的名称</legend>
                <div class="row pl-5">
                    <label class="col-md-3" for="userName">你的登录名：</label>
                    <input type="text" class="col-md-5 h-50 form-control" id="userName">
                    <div class="col-md-4">
                        <span id="userNamePrompt" class="prompt-input hide"><i class="fa fa-check-square"></i>用户名已经输入。</span>
                    </div>
                </div>
                <div class="row pl-5">
                    <span class="col-md-3"></span>
                    <input type="button" class="col-md-5" id="CheckIdUseful" value="查看用户名、域名是否可用">
                </div>
            </fieldset>
            <fieldset>
                <legend>安全资料</legend>
                <div class="row pl-5">
                    <label class="col-md-3" for="userPasswd">输入登录密码：</label>
                    <input type="password" maxlength="20" class="col-md-5 h-50 form-control" id="userPasswd">
                    <div class="col-md-4">
                        <span id="userPasswdPrompt" class="prompt-input hide"><i class="fa fa-check-square"></i>密码已经输入。</span>
                    </div>
                </div>
                <div class="row pl-5 pb-2">
                    <span class="col-md-3"></span>
                    <span class="passwd-intensity" id="passwdWeak">弱</span><span class="passwd-intensity" id="passwdMiddle">中</span><span class="passwd-intensity" id="passwdStrong">强</span>
                </div>
                <div class="row pl-5">
                    <label class="col-md-3" for="userPasswd">登录密码确认：</label>
                    <input type="password" maxlength="20" class="col-md-5 h-50 form-control" id="userPasswdAgain">
                    <div class="col-md-4">
                        <span id="userPasswdAgainPrompt" class="prompt-input hide"><i class="fa fa-check-square"></i>重复密码输入正确。</span>
                    </div>
                </div>
                <div class="row pl-5">
                    <label class="col-md-3" for="PasswdQuestion">密码提示问题：</label>
                    <select onchange="judgeInputContent()" class="col-md-5 h-50 form-control" id="PasswdQuestion">
                        <option value="0">请选择密码提示问题</option>
                        <option value="QFirst">我最大的爱好？</option>
                        <option value="QSecond">我的第一只宠物名字？</option>
                        <option value="QThird">小学班主任的名字？</option>
                        <option value="QFourth">初中就读的学校名？</option>
                    </select>
                    <div class="col-md-4">
                        <span id="PasswdQuestionPrompt" class="prompt-input hide"><i class="fa fa-check-square"></i>密码提示问题已经选择。</span>
                    </div>
                </div>
                <div class="row pl-5">
                    <label class="col-md-3" for="PasswdResult">密码提示答案：</label>
                    <input type="text" class="col-md-5 h-50 form-control" id="PasswdResult">
                    <div class="col-md-4">
                        <span id="PasswdResultPrompt" class="prompt-input hide"><i class="fa fa-check-square"></i>密码提示答案已经输入。</span>
                    </div>
                </div>
            </fieldset>
            <fieldset>
                <legend>个人资料</legend>
                <div class="row pl-5">
                    <label class="col-md-3" for="userEmail">电子邮箱：</label>
                    <input type="text" class="col-md-5 h-50 form-control" id="userEmail">
                    <div class="col-md-4">
                        <span id="userEmailPrompt" class="prompt-input hide"><i class="fa fa-check-square"></i>电子邮箱已经输入。</span>
                    </div>
                </div>
                <div class="row pl-5">
                    <label class="col-md-3">地区(省/市)：</label>
                    <select type="text" onchange="chinaChange(this,document.getElementById('city'));"
                            class="col-md-3 h-50 form-control" id="userProvince">
                        <option value="0">请选择省份</option>
                        <option value="北京市">
                            北京市
                        </option>
                        <option value="天津市">
                            天津市
                        </option>
                        <option value="上海市">
                            上海市
                        </option>
                        <option value="重庆市">
                            重庆市
                        </option>
                        <option value="河北省">
                            河北省
                        </option>
                        <option value="山西省">
                            山西省
                        </option>
                        <option value="辽宁省">
                            辽宁省
                        </option>
                        <option value="吉林省">
                            吉林省
                        </option>
                        <option value="黑龙江省">
                            黑龙江省
                        </option>
                        <option value="江苏省">
                            江苏省
                        </option>
                        <option value="浙江省">
                            浙江省
                        </option>
                        <option value="安徽省">
                            安徽省
                        </option>
                        <option value="福建省">
                            福建省
                        </option>
                        <option value="江西省">
                            江西省
                        </option>
                        <option value="山东省">
                            山东省
                        </option>
                        <option value="河南省">
                            河南省
                        </option>
                        <option value="湖北省">
                            湖北省
                        </option>
                        <option value="湖南省">
                            湖南省
                        </option>
                        <option value="广东省">
                            广东省
                        </option>
                        <option value="海南省">
                            海南省
                        </option>
                        <option value="四川省">
                            四川省
                        </option>
                        <option value="贵州省">
                            贵州省
                        </option>
                        <option value="云南省">
                            云南省
                        </option>
                        <option value="陕西省">
                            陕西省
                        </option>
                        <option value="甘肃省">
                            甘肃省
                        </option>
                        <option value="青海省">
                            青海省
                        </option>
                        <option value="台湾省">
                            台湾省
                        </option>
                        <option value="广西壮族自治区">
                            广西壮族自治区
                        </option>
                        <option value="内蒙古自治区">
                            内蒙古自治区
                        </option>
                        <option value="西藏自治区">
                            西藏自治区
                        </option>
                        <option value="宁夏回族自治区">
                            宁夏回族自治区
                        </option>
                        <option value="新疆维吾尔自治区">
                            新疆维吾尔自治区
                        </option>
                        <option value="香港特别行政区">
                            香港特别行政区
                        </option>
                        <option value="澳门特别行政区">
                            澳门特别行政区
                        </option>
                    </select>
                    <select onchange="judgeInputContent()" name="city" id="city" type="text" class="col-md-2 h-50 form-control">
                        <option value="0">请选择市区</option>
                    </select>
                    <div class="col-md-4">
                        <span id="userRegionPrompt" class="prompt-input hide"><i class="fa fa-check-square"></i>你所在的地区已经选择。</span>
                    </div>
                </div>
                <div class="row pl-5">
                    <label class="col-md-3" for="blogName">Blog名称：</label>
                    <input type="text" class="col-md-5 h-50 form-control" id="blogName">
                    <div class="col-md-4">
                        <span id="blogNamePrompt" class="prompt-input hide"><i class="fa fa-check-square"></i>Blog名已经输入。</span>
                    </div>
                </div>
                <div class="row pl-5">
                    <label class="col-md-3" for="blogCategory">Blog类别：</label>
                    <select onchange="judgeInputContent()" class="col-md-5 h-50 form-control" id="blogCategory">
                        <option value="0">请选择Blog类别</option>
                        <option value="BCFirst">个人空间</option>
                        <option value="BCSecond">媒体视频</option>
                    </select>
                    <div class="col-md-4">
                        <span id="blogCategoryPrompt" class="prompt-input hide"><i class="fa fa-check-square"></i>您Blog的类型已经选择。</span>
                    </div>
                </div>
                <div class="row pl-5">
                    <label class="col-md-3">注册条款：</label>
                    <label class="col-md-2" for="regRuleAgree"><input type="radio" name="regRule" id="regRuleAgree"> 同意</label>
                    <label class="col-md-2" for="regRuleDisagree"><input type="radio" name="regRule" id="regRuleDisagree"> 不同意</label>
                    <a href="javascript:;">查看注册条款</a>
                </div>
                <div class="row pl-5">
                    <label class="col-md-3">验证码：</label>
                    <input type="text" class="col-md-2 h-50 form-control" id="VerifyCode">
                    <img src="img/CheckCode.jpg" alt="验证码" class="col-md-2">
                </div>
            </fieldset>
            <div class="text-center">
                <input type="button" onclick="RegCheck()" class="btn btn-blue-grey" value="OK,确认提交注册信息">
            </div>
        </form>
    </div>

    <!-- jQuery script-->
    <script src="js/jquery-3.3.1.min.js">
    </script>
    <script>
        //省市级下拉框
        var china={};
        china['北京市']=['北京市区','北京市辖区'];
        china['上海市']=['上海市区','上海市辖区'];
        china['天津市']=['天津市区','天津市辖区'];
        china['重庆市']=['重庆市区','重庆市辖区'];
        china['河北省'] = ['石家庄', '唐山市', '邯郸市', '秦皇市岛', '保市定', '张家市口', '承德市', '廊坊市', '沧州市', '衡水市', '邢台市'];
        china['山西省']=['太原市','大同市','阳泉市','长治市','晋城市','朔州市','晋中市','运城市','忻州市','临汾市','吕梁市'];
        china['辽宁省']=['沈阳市','大连市','鞍山市','抚顺市','本溪市','丹东市','锦州市','营口市','阜新市','辽阳市','盘锦市','铁岭市','朝阳市','葫芦岛市'];
        china['吉林省']=['长春市','吉林市','四平市','辽源市','通化市','白山市','松原市','白城市','延边州','长白山管委会'];
        china['黑龙江省']=['哈尔滨市','齐齐哈尔市','大庆市','佳木斯市','牡丹江市','七台河市','双鸭山市','黑河市','鸡西市','伊春市','绥化市','鹤岗市','加格达奇市'];
        china['江苏省']=['南京市','苏州市','无锡市','常州市','南通市','扬州市','镇江市','泰州市','盐城市','连云港市','宿迁市','淮安市','徐州市'];
        china['浙江省']=['杭州市','宁波市','温州市','嘉兴市','湖州市','绍兴市','金华市','衢州市','舟山市','台州市','丽水市'];
        china['安徽省']=['合肥市','芜湖市','蚌埠市','淮南市','马鞍山市','淮北市','铜陵市','安庆市','黄山市','滁州市','阜阳市','宿州市','巢湖市','六安市','亳州市','池州市','宣城市'];
        china['福建省']=['福州市','厦门市','莆田市','三明市','泉州市','漳州市','南平市','龙岩市','宁德市'];
        china['江西省']=['南昌市','景德镇市','萍乡市','九江市','新余市','鹰潭市','赣州市','吉安市','宜春市','抚州市','上饶市'];
        china['山东省']=['济南市','青岛市','淄博市','枣庄市','东营市','烟台市','潍坊市','济宁市','泰安市','威海市','日照市','莱芜市','临沂市','德州市','聊城市','滨州市','菏泽市'];
        china['河南省']=['郑州市','开封市','洛阳市','平顶山市','安阳市','鹤壁市','新乡市','焦作市','濮阳市','许昌市','漯河市','三门峡市','南阳市','商丘市','信阳市','周口市','驻马店市'];
        china['湖北省']=['武汉市','黄石市','十堰市','荆州市','宜昌市','襄樊市','鄂州市','荆门市','孝感市','黄冈市','咸宁市','随州市'];
        china['湖南省']=['长沙市','株洲市','湘潭市','衡阳市','邵阳市','岳阳市','常德市','张家界市','益阳市','郴州市','永州市','怀化市','娄底市'];
        china['广东省']=['广州市','深圳市','珠海市','汕头市','韶关市','佛山市','江门市','湛江市','茂名市','肇庆市','惠州市','梅州市','汕尾市','河源市','阳江市','清远市','东莞市','中山市','潮州市','揭阳市','云浮市'];
        china['海南省']=['文昌市','琼海市','万宁市','五指山市','东方市','儋州市'];
        china['四川省 ']=['成都市','自贡市','攀枝花市','泸州市','德阳市','绵阳市','广元市','遂宁市','内江市','乐山市','南充市','眉山市','宜宾市','广安市','达州市','雅安市','巴中市','资阳市'];
        china['贵州省']=['贵阳市','六盘水市','遵义市','安顺市'];
        china['云南省']=['昆明市','曲靖市','玉溪市','保山市','昭通市','丽江市','普洱市','临沧市'];
        china['陕西省']=['西安市','铜川市','宝鸡市','咸阳市','渭南市','延安市','汉中市','榆林市','安康市','商洛市'];
        china['甘肃省']=['兰州市','金昌市','白银市','天水市','嘉峪关市','武威市','张掖市','平凉市','酒泉市','庆阳市','定西市','陇南市'];
        china['青海省']=new Array('西宁市');
        china['台湾省'] = ['台北市','高雄市','基隆市','台中市','台南市','新竹市','嘉义市'];
        china['广西壮族自治区']=['南宁市','柳州市','桂林市','梧州市','北海市','防城港市','钦州市','贵港市','玉林市','百色市','贺州市','河池市','来宾市','崇左市'];
        china['内蒙古自治区']=['呼和浩特市','包头市','乌海市','赤峰市','通辽市','鄂尔多斯市','呼伦贝尔市','巴彦淖尔市','乌兰察布市'];
        china['西藏自治区']=new Array("拉萨市");
        china['宁夏回族自治区']=['银川市','石嘴山市','吴忠市','固原市','中卫市'];
        china['新疆维吾尔自治区']=['乌鲁木齐市','克拉玛依市'];
        china['香港特别行政区']=['台北市','高雄市','基隆市','台中市','台南市','新竹市','嘉义市'];
        function chinaChange(province, city) {
            var pv, cv;
            var i, ii;
            pv = province.value;
            cv = city.value;
            city.length = 1;
            if (pv === '0') return;
            if (typeof (china[pv]) === 'undefined') return;

            for (i = 0; i < china[pv].length; i++) {
                ii = i + 1;

                city.options[ii] = new Option();
                city.options[ii].text = china[pv][i];
                city.options[ii].value = china[pv][i];
            }
            city.options[0].text = "请选择市区";
            judgeInputContent();
        }



        //未使用数据库，故直接添加已用用户名以及邮箱列表
        let usedUserName = ["susmote", "ayesup", "hello", "world"];
        let usedUserEmail = ["susmote@susmote.com", "ayesup@susmote.com", "hello@susmote.com", "world@susmote.com"];


        $(document).ready(function() {
            $("#userName").bind("input propertychange", function (event) {
                judgeInputContent();
            });
            $("#userPasswd").bind("input propertychange", function (event) {
                judgeInputContent();
            });
            $("#userPasswdAgain").bind("input propertychange", function (event) {
                judgeInputContent();
            });
            $("#PasswdResult").bind("input propertychange", function (event) {
                judgeInputContent();
            });
            $("#userEmail").bind("input propertychange", function (event) {
                judgeInputContent();
            });
            $("#blogName").bind("input propertychange", function (event) {
                judgeInputContent();
            });
            //查看用户名、域名是否可用
            $("#CheckIdUseful").click(function () {
                if($.inArray($("#userName").val().trim(), usedUserName) >= 0){
                    alert("用户名已存在");
                }else {
                    alert("用户名可用");
                }
            });
        });

        //判断条件
        function judgeInputContent() {
            if($("#userName").val().trim() !== ""){
                $("#userNamePrompt").removeClass("hide");
            }else {
                $("#userNamePrompt").addClass("hide");
            }
            if($("#userPasswd").val().trim() !== ""){
                $("#passwdWeak").addClass("passwd-red");
                $("#userPasswdPrompt").removeClass("hide");
            }else {
                $("#passwdWeak").removeClass("passwd-red");
                $("#userPasswdPrompt").addClass("hide");
            }
            if($("#userPasswd").val().trim() == $("#userPasswdAgain").val().trim() && $("#userPasswdAgain").val().trim() !== ""){
                $("#userPasswdAgainPrompt").removeClass("hide");
            }else {
                $("#userPasswdAgainPrompt").addClass("hide");
            }
            if($("#PasswdResult").val().trim() !== ""){
                $("#PasswdResultPrompt").removeClass("hide");
            }else {
                $("#PasswdResultPrompt").addClass("hide");
            }
            if($("#userEmail").val().trim() !== "" && checkEmail($("#userEmail").val().trim()) && $.inArray($("#userEmail").val().trim(), usedUserEmail) == -1){
                $("#userEmailPrompt").removeClass("hide");
            }else {
                $("#userEmailPrompt").addClass("hide");
            }
            if($("#blogName").val().trim() !== ""){
                $("#blogNamePrompt").removeClass("hide");
            }else {
                $("#blogNamePrompt").addClass("hide");
            }
            // 判断密码强度
            if($("#userPasswd").val().trim().length > 7){
                $("#passwdMiddle").addClass("passwd-red")
            }else{
                $("#passwdMiddle").removeClass("passwd-red");
            }
            if($("#userPasswd").val().trim().length > 15){
                $("#passwdStrong").addClass("passwd-red")
            }else {
                $("#passwdStrong").removeClass("passwd-red")
            }
            if($('#PasswdQuestion option:selected').val() !== "0"){
                $("#PasswdQuestionPrompt").removeClass("hide")
            }else{
                $("#PasswdQuestionPrompt").addClass("hide")
            }
            if($('#userProvince option:selected').val() !== "0" && $('#city option:selected').val() !== "0"){
                $("#userRegionPrompt").removeClass("hide")
            }else{
                $("#userRegionPrompt").addClass("hide")
            }
            if($('#blogCategory option:selected').val() !== "0"){
                $("#blogCategoryPrompt").removeClass("hide")
            }else{
                $("#blogCategoryPrompt").addClass("hide")
            }
        }


        //邮箱检查
        function checkEmail(Email){
            let myReg=/^[a-zA-Z0-9_-]+@([a-zA-Z0-9]+\.)+(com|cn|net|org)$/;

            if(myReg.test(Email)){
                return true;
            }else{
                return false;
            }
        }


        //注册检查
        function RegCheck() {
            alert("恭喜你注册成功！");
        }
    </script>
</body>
</html>